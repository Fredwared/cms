(function(d){d.XML=function(g){this.initialize=function(a){this.baseDom;this.error=!1;switch(typeof a){case "object":this.baseDom=a;break;case "string":window.DOMParser?(parser=new DOMParser,this.baseDom=parser.parseFromString(a,"text/xml"),"parsererror"==this.baseDom.documentElement.nodeName&&(this.error=!0,this.reason="Kh\u00f4ng ph\u00e2n t\u00edch \u0111\u01b0\u1ee3c ngu\u1ed3n XML n\u00e0y.",this.baseDom=null)):(this.baseDom=new ActiveXObject("Microsoft.XMLDOM"),this.baseDom.async="false",this.baseDom.loadXML(a), 0!=this.baseDom.parseError.errorCode&&(this.error=!0,this.reason="Kh\u00f4ng ph\u00e2n t\u00edch \u0111\u01b0\u1ee3c ngu\u1ed3n XML n\u00e0y.",this.baseDom=null));break;default:this.baseDom=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}};this.load=function(a){this.baseDom.open("GET",a,!1);this.baseDom.send();this.baseDom=this.baseDom.responseXML;d.browser.msie?0!=this.baseDom.parseError.errorCode&&(this.error=!0,this.reason="Kh\u00f4ng ph\u00e2n t\u00edch \u0111\u01b0\u1ee3c t\u1eadp tin XML n\u00e0y.", this.baseDom=null):"parsererror"==this.baseDom.documentElement.nodeName&&(this.error=!0,this.reason="Kh\u00f4ng ph\u00e2n t\u00edch \u0111\u01b0\u1ee3c t\u1eadp tin XML n\u00e0y.",this.baseDom=null)};this.getDOM=function(){return this.baseDom};this.getBaseName=function(){return this.baseDom.documentElement.nodeName};this.getNode=function(a){var b=this.baseDom;d.browser.msie?a=this.baseDom.selectSingleNode(a):("undefined"!==typeof XPathEvaluator&&(b=new XPathEvaluator),a=b.evaluate(a,this.baseDom, null,XPathResult.FIRST_ORDERED_NODE_TYPE,null));return a||null};this.getNodeName=function(a){var b,c;try{b=this.getNode(a),d.browser.msie&&b?c=b.nodeName:b&&(c=b.localName)}catch(f){}return c||null};this.getNodeValue=function(a){var b,c;try{b=this.getNode(a),d.browser.msie&&b?c=b.text:b.singleNodeValue&&(c=b.singleNodeValue.textContent)}catch(f){}return c||null};this.getNodes=function(a){var b=[],c;c=this.baseDom;if(d.browser.msie)a=this.baseDom.selectNodes(a),d.each(a,function(a,c){b.push(c)});else for("undefined"!== typeof XPathEvaluator&&(c=new XPathEvaluator),a=c.evaluate(a,this.baseDom,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);null!==(c=a.iterateNext());)b.push(c);return b};this.getNodesName=function(a){var b=[],c;a=this.getNodes(a);d.each(a,function(a,e){d.browser.msie&&e?c=e.nodeName:e&&(c=e.localName);b.push(c)});return b};this.getNodesValue=function(a){var b=[],c;a=this.getNodes(a);d.each(a,function(a,e){d.browser.msie&&e?c=e.text:e&&(c=e.firstChild.nodeValue);b.push(c)});return b};this.countNodes= function(a){return this.getNodes(a).length};this.getNodeAsXML=function(a){var b,c;a=this.getNode(a);try{d.browser.msie?b=a.xml:(c=new XMLSerializer,b=c.serializeToString(a.singleNodeValue))}catch(f){b="Kh\u00f4ng th\u1ec3 \u0111\u01b0a v\u1ec1 d\u1ea1ng XML \u0111\u01b0\u1ee3c."}return b||null};this.initialize(g)}})(jQuery);